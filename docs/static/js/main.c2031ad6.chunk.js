(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1202:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(51),i=a.n(c),l=(a(487),a(52)),r=a(53),s=a(55),u=a(54),d=a(56),h=a(1206),m=a(1205),p=a(1204),f=a(473),v=a.n(f),E=a(171),g=(a(693),a(169)),b=a.n(g),k=a(126),y=a.n(k),j=a(139),O=function(e){console.log(JSON.stringify(e));var t=e.elections.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(p.a,{to:"elections/".concat(e.id)},e.name))});return o.a.createElement("ul",null,t)},D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={data:void 0,needFetchData:!0},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){this.props.authData&&this.state.needFetchData&&this.updateData()}},{key:"updateData",value:function(){var e=this;this.setState({needFetchData:!1}),console.log("GettingData");var t={uri:"https://pvyeeoatp7.execute-api.us-east-1.amazonaws.com/Alpha/elections",headers:{"User-Agent":"Request-Promise",auth:this.props.authData.getSignInUserSession().accessToken.jwtToken},json:!0};j(t).then(function(t){e.setState({data:t}),console.log("GotData")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Elections"),o.a.createElement("div",null,this.state.data&&o.a.createElement("div",null," ",o.a.createElement(O,this.state.data)," ")))}}]),t}(o.a.Component),S=a(481),w=a(474),C=a(139),F=function(e){var t=Math.max.apply(Math,Object(S.a)(e.data.map(function(e){return e.name.length})));return o.a.createElement("div",{style:{height:100*e.data.length}},o.a.createElement(w.ResponsiveBar,{data:e.data,keys:["votes"],indexBy:"name",layout:"horizontal",margin:{top:50,right:130,bottom:50,left:10*t},padding:.2,colors:"dark2",colorBy:"id",borderColor:"inherit:darker(1.6)",axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Votes",legendPosition:"middle",legendOffset:32},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:"inherit:darker(1.6)",animate:!0,motionStiffness:90,motionDamping:15}))},A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={data:void 0,needFetchData:!0},a.props.authData&&a.updateData(),console.log(JSON.stringify(e)),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){this.props.authData&&this.state.needFetchData&&this.updateData()}},{key:"updateData",value:function(){var e=this;this.setState({needFetchData:!1}),console.log("GettingData");var t={uri:"https://pvyeeoatp7.execute-api.us-east-1.amazonaws.com/Alpha/".concat(this.props.match.params.id,"/results"),headers:{"User-Agent":"Request-Promise",auth:this.props.authData.getSignInUserSession().accessToken.jwtToken},json:!0};C(t).then(function(t){t.results.sort(function(e,t){return e.votes-t.votes}),e.setState({data:t}),console.log("GotData")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Election"),o.a.createElement("h3",null,"Requested Param: ",this.props.match.params.id),o.a.createElement("div",null,this.state.data&&o.a.createElement("div",null,JSON.stringify(this.state.data),o.a.createElement(F,{data:this.state.data.results,keys:this.state.data.results.map(function(e){return e.name})}))))}}]),t}(o.a.Component),U=a(125),x=a(254),P=a.n(x),N=a(475),T=a.n(N),R=a(478),q=a.n(R),I=a(255),z=a.n(I),B=a(479),G=a.n(B),J=a(477),H=a.n(J),W=a(139),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={name:"",fields:["derp"]},a.updateField=a.updateField.bind(Object(U.a)(Object(U.a)(a))),a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){}},{key:"addElection",value:function(){var e=this,t={method:"POST",uri:"https://pvyeeoatp7.execute-api.us-east-1.amazonaws.com/Alpha/elections",headers:{"User-Agent":"Request-Promise",auth:this.props.authData.getSignInUserSession().accessToken.jwtToken},body:{name:this.state.name,candidates:this.state.fields},json:!0};W(t).then(function(t){e.setState({data:t}),console.log(t)}).catch(function(e){console.log(e)})}},{key:"addField",value:function(){var e=this.state.fields;e.push(""),this.setState({fields:e})}},{key:"removeField",value:function(e){this.state.fields.splice(e,1),this.setState({fields:this.state.fields})}},{key:"updateField",value:function(e,t){this.state.fields[e]=t.target.value,this.setState({fields:this.state.fields})}},{key:"changeName",value:function(e){this.setState({name:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.fields.map(function(t,a){return o.a.createElement(T.a,{key:a,divider:!0},o.a.createElement(y.a,{id:"input".concat(a),label:"Option ".concat(a),value:"".concat(t),onChange:function(t){return e.updateField(a,t)}}),o.a.createElement(z.a,{onClick:function(t){return e.removeField(a)},"aria-label":"Add"},o.a.createElement(H.a,null)))});return o.a.createElement("div",null,o.a.createElement("h2",null,"Create New Election"),o.a.createElement("div",null,o.a.createElement(y.a,{label:"Election Name:",onChange:function(t){return e.changeName(t)},value:this.state.name}),this.state.data&&o.a.createElement("div",null," ")),o.a.createElement(P.a,{component:"nav"},o.a.createElement(q.a,null),t),o.a.createElement(z.a,{onClick:function(t){return e.addField()},"aria-label":"Add",color:"primary"},o.a.createElement(G.a,null)),o.a.createElement(b.a,{onClick:function(t){return e.addElection()},color:"primary"},"Create Election"))}}]),t}(o.a.Component),_=a(139),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={data:void 0,needFetchData:!0},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.state.needFetchData&&this.updateData()}},{key:"componentDidUpdate",value:function(){this.state.needFetchData&&this.updateData()}},{key:"updateData",value:function(){var e=this;this.setState({needFetchData:!1}),console.log("GettingData");var t={uri:"https://pvyeeoatp7.execute-api.us-east-1.amazonaws.com/Alpha/".concat(this.props.match.params.id),headers:{"User-Agent":"Request-Promise"},json:!0};_(t).then(function(t){e.setState({data:t}),console.log("GotData")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Vote on ",this.props.match.params.id),o.a.createElement("div",null,this.state.data&&o.a.createElement("div",null," Hello ")))}}]),t}(o.a.Component);v.a.configure({Auth:{region:"us-east-1",userPoolId:"us-east-1_fJtNPqIhN",userPoolWebClientId:"7rrkppdo26u3r1b1dgfugq0vdf",authenticationFlowType:"USER_SRP_AUTH"}});var L=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,null,o.a.createElement("div",null,o.a.createElement(ee,null),o.a.createElement(m.a,{exact:!0,path:"/",component:Y}),o.a.createElement(m.a,{path:"/elections",component:Z}),o.a.createElement(m.a,{path:"/add-election",component:$}),o.a.createElement(m.a,{path:"/vote",component:X})))}}]),t}(o.a.Component),Y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={code:""},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("h2",null,"Home"),o.a.createElement(y.a,{label:"Election Name:",onChange:function(t){return e.setState({code:t.target.value})},value:this.state.code}),o.a.createElement("div",null,o.a.createElement(b.a,{component:p.a,to:"/vote/".concat(this.state.code)},"Link")))}}]),t}(o.a.Component),$=function(e){return o.a.createElement(E.Authenticator,null,o.a.createElement(M,e))},K=function(e){return o.a.createElement(E.Authenticator,null,o.a.createElement(D,e))},Q=function(e){return o.a.createElement(E.Authenticator,null,o.a.createElement(A,e))},X=function(e){return o.a.createElement("div",null,o.a.createElement(m.a,{path:"".concat(e.match.path,"/:id"),render:function(e){return o.a.createElement(V,e)}}),o.a.createElement(m.a,{exact:!0,path:e.match.path,render:function(){return o.a.createElement(K,e)}}))},Z=function(e){return o.a.createElement("div",null,o.a.createElement(m.a,{path:"".concat(e.match.path,"/:id"),render:function(e){return o.a.createElement(Q,e)}}),o.a.createElement(m.a,{exact:!0,path:e.match.path,render:function(){return o.a.createElement(K,e)}}))},ee=(o.a.Component,function(){return o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(p.a,{to:"/"},"Home")),o.a.createElement("li",null,o.a.createElement(p.a,{to:"/elections"},"Your Elections")),o.a.createElement("li",null,o.a.createElement(p.a,{to:"/add-election"},"Create New Election")))}),te=L;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},177:function(e,t){},482:function(e,t,a){e.exports=a(1202)},487:function(e,t,a){},693:function(e,t,a){},708:function(e,t){},710:function(e,t){},742:function(e,t){},743:function(e,t){},809:function(e,t){}},[[482,2,1]]]);
//# sourceMappingURL=main.c2031ad6.chunk.js.map